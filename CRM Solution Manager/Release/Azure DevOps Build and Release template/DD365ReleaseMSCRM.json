{"source":2,"revision":19,"description":null,"createdBy":{"displayName":"IGD service account 111","url":"https://spsprodsin1.vssps.visualstudio.com/A742abe64-1428-40bf-b75a-be4d82c7b3c1/_apis/Identities/3a59b632-7f3b-6ff5-974d-d79b24c98a0c","_links":{"avatar":{"href":"https://dev.azure.com/ReachHigh/_apis/GraphProfile/MemberAvatars/aad.M2E1OWI2MzItN2YzYi03ZmY1LTk3NGQtZDc5YjI0Yzk4YTBj"}},"id":"3a59b632-7f3b-6ff5-974d-d79b24c98a0c","uniqueName":"igdsa111@IGDCRM.onmicrosoft.com","imageUrl":"https://dev.azure.com/ReachHigh/_apis/GraphProfile/MemberAvatars/aad.M2E1OWI2MzItN2YzYi03ZmY1LTk3NGQtZDc5YjI0Yzk4YTBj","descriptor":"aad.M2E1OWI2MzItN2YzYi03ZmY1LTk3NGQtZDc5YjI0Yzk4YTBj"},"createdOn":"2019-12-04T11:29:08.927Z","modifiedBy":{"displayName":"IGD service account 111","url":"https://spsprodsin1.vssps.visualstudio.com/A742abe64-1428-40bf-b75a-be4d82c7b3c1/_apis/Identities/3a59b632-7f3b-6ff5-974d-d79b24c98a0c","_links":{"avatar":{"href":"https://dev.azure.com/ReachHigh/_apis/GraphProfile/MemberAvatars/aad.M2E1OWI2MzItN2YzYi03ZmY1LTk3NGQtZDc5YjI0Yzk4YTBj"}},"id":"3a59b632-7f3b-6ff5-974d-d79b24c98a0c","uniqueName":"igdsa111@IGDCRM.onmicrosoft.com","imageUrl":"https://dev.azure.com/ReachHigh/_apis/GraphProfile/MemberAvatars/aad.M2E1OWI2MzItN2YzYi03ZmY1LTk3NGQtZDc5YjI0Yzk4YTBj","descriptor":"aad.M2E1OWI2MzItN2YzYi03ZmY1LTk3NGQtZDc5YjI0Yzk4YTBj"},"modifiedOn":"2019-12-09T06:16:57.040Z","isDeleted":false,"lastRelease":{"id":53,"name":"Release-19","artifacts":[],"_links":{},"description":"","releaseDefinition":{"id":4,"projectReference":null,"_links":{}},"createdOn":"2019-12-09T06:17:28.720Z","createdBy":{"displayName":"IGD service account 111","url":"https://spsprodsin1.vssps.visualstudio.com/A742abe64-1428-40bf-b75a-be4d82c7b3c1/_apis/Identities/3a59b632-7f3b-6ff5-974d-d79b24c98a0c","_links":{"avatar":{"href":"https://dev.azure.com/ReachHigh/_apis/GraphProfile/MemberAvatars/aad.M2E1OWI2MzItN2YzYi03ZmY1LTk3NGQtZDc5YjI0Yzk4YTBj"}},"id":"3a59b632-7f3b-6ff5-974d-d79b24c98a0c","uniqueName":"igdsa111@IGDCRM.onmicrosoft.com","imageUrl":"https://dev.azure.com/ReachHigh/_apis/GraphProfile/MemberAvatars/aad.M2E1OWI2MzItN2YzYi03ZmY1LTk3NGQtZDc5YjI0Yzk4YTBj","descriptor":"aad.M2E1OWI2MzItN2YzYi03ZmY1LTk3NGQtZDc5YjI0Yzk4YTBj"}},"variables":{"TargetCRMConnection":{"value":"AuthType=ClientSecret;ServiceUri=https://igdcicd1.crm8.dynamics.com; ClientId=$(SolutionCheckerAppClientId); ClientSecret=$(ClientApplicationSecret); UseUniqueConnectionInstance=true"}},"variableGroups":[1],"environments":[{"id":4,"name":"Stage 1","rank":1,"owner":{"displayName":"IGD service account 111","url":"https://spsprodsin1.vssps.visualstudio.com/A742abe64-1428-40bf-b75a-be4d82c7b3c1/_apis/Identities/3a59b632-7f3b-6ff5-974d-d79b24c98a0c","_links":{"avatar":{"href":"https://dev.azure.com/ReachHigh/_apis/GraphProfile/MemberAvatars/aad.M2E1OWI2MzItN2YzYi03ZmY1LTk3NGQtZDc5YjI0Yzk4YTBj"}},"id":"3a59b632-7f3b-6ff5-974d-d79b24c98a0c","uniqueName":"igdsa111@IGDCRM.onmicrosoft.com","imageUrl":"https://dev.azure.com/ReachHigh/_apis/GraphProfile/MemberAvatars/aad.M2E1OWI2MzItN2YzYi03ZmY1LTk3NGQtZDc5YjI0Yzk4YTBj","descriptor":"aad.M2E1OWI2MzItN2YzYi03ZmY1LTk3NGQtZDc5YjI0Yzk4YTBj"},"variables":{},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":10}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":11},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":12}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":{"identifier":"windows-2019"},"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[]},"queueId":9,"demands":[],"enableAccessToken":false,"timeoutInMinutes":60,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Agent job","refName":null,"workflowTasks":[{"environment":{},"taskId":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","version":"2.*","name":"DD365 Task Read solution Name from solution container drop location","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"targetType":"filePath","filePath":"$(System.DefaultWorkingDirectory)/_DD365Build/drop/GetSolutionUniqueName.ps1","arguments":"-solutionImportPath '$(System.DefaultWorkingDirectory)/_DD365Build/drop/SolutionContainer'","script":"param(\n$dllPath,\n$solutionImportPath\n)\n\n if(-Not (Get-Module -ListAvailable -Name Xrm.Framework.CI.PowerShell.Cmdlets))\n{   \n     $dllname=-Join($dllPath,\"/Xrm.Framework.CI.PowerShell.Cmdlets.dll\")\n     Import-Module $dllname     \n }\n\nforeach($file in Get-ChildItem -Path $solutionImportPath)\n{\n$solutionInfo = Get-XrmSolutionInfoFromZip -SolutionFilePath $file.FullName\n\n    Write-Host \"Solution Name: \" $solutionInfo.UniqueName\n    Write-Host \"##vso[task.setvariable variable=ReleaseSolutionName]$solutionInfo.UniqueName\"\n}","errorActionPreference":"stop","failOnStderr":"false","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"taskId":"04ad1c72-5e49-4686-8a3a-dda6948b0fcd","version":"9.*","name":"MSCRM Tool Installer","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{}},{"environment":{},"taskId":"4455576d-d40a-4234-ad75-3d7ff40ec76e","version":"11.*","name":"MSCRM Import Solution","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"crmConnectionString":"$(TargetCRMConnection)","solutionFile":"$(System.DefaultWorkingDirectory)/_DD365Build/drop/SolutionContainer/$(ReleaseSolutionName)","publishWorkflows":"true","overwriteUnmanagedCustomizations":"true","skipProductUpdateDependencies":"false","convertToManaged":"false","holdingSolution":"false","override":"true","useAsyncMode":"true","asyncWaitTimeout":"900","logsDirectory":"","logFileName":"","crmConnectionTimeout":"120"}},{"environment":{},"taskId":"f64d3db3-f19a-41dd-bdb8-f8f0e60a4bb1","version":"10.*","name":"MSCRM Publish Customizations","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"crmConnectionString":"$(TargetCRMConnection)","crmConnectionTimeout":"120"}},{"environment":{},"taskId":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","version":"2.*","name":"DD365 Read DynamicSourceControlId,SolutionName from solution.txt and config.txt files","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"targetType":"filePath","filePath":"$(System.DefaultWorkingDirectory)/_DD365Build/drop/SolutionToBeImported.ps1","arguments":"-solutionListFile  '$(System.DefaultWorkingDirectory)/_DD365Build/drop/solutions.txt'  -configListFile  '$(System.DefaultWorkingDirectory)/_DD365Build/drop/config.txt'","script":"# Write your PowerShell commands here.\n\nWrite-Host \"Hello World\"\n","errorActionPreference":"stop","failOnStderr":"false","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}},{"environment":{},"taskId":"e213ff0f-5d5c-4791-802d-52ea3e7be1f1","version":"2.*","name":"DD365 Dynamics Source Control Set Queue Status to complete","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"targetType":"filePath","filePath":"$(System.DefaultWorkingDirectory)/_DD365Build/drop/ChangeQueueStatus.ps1","arguments":"-CRMSourceInstanceUrl \"$(CRMSourceInstanceUrl)\"  -SolutionCheckerAppClientId $(SolutionCheckerAppClientId)  -ClientApplicationSecret $(ClientApplicationSecret)   -ADAuthorityURL $(ADAuthorityURL)  -CRMSourceServiceUrl $(CRMSourceServiceUrl) -CRMSourceUrlwithSDKVersion \"$(CRMSourceUrlwithSDKVersion)\"  -UserName \"\"   -Password \"\"   -Status \"DevOps Release Completed\"    -dllPath '$(System.DefaultWorkingDirectory)/_DD365Build/drop/AssemblyStorage'    -resultFileUrls \"$(Release.ReleaseWebURL)\"    -buildurl \"\"   -releaseurl \"$(Release.ReleaseWebURL)\"   -EntityRecordId $(ConfigIds)","script":"# Write your PowerShell commands here.\n\nWrite-Host \"Hello World\"\n","errorActionPreference":"stop","failOnStderr":"false","ignoreLASTEXITCODE":"false","pwsh":"false","workingDirectory":""}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":false,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":false},"demands":[],"conditions":[{"name":"ReleaseStarted","conditionType":1,"value":""}],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":53,"url":"https://vsrm.dev.azure.com/ReachHigh/1c7cc8a5-a404-463a-b85a-82634859485b/_apis/Release/releases/53","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{},"properties":{"BoardsEnvironmentType":{"$type":"System.String","$value":"unmapped"},"LinkBoardsWorkItems":{"$type":"System.String","$value":"False"}},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://vsrm.dev.azure.com/ReachHigh/_apis/public/Release/badge/1c7cc8a5-a404-463a-b85a-82634859485b/4/4"}],"artifacts":[{"sourceId":"1c7cc8a5-a404-463a-b85a-82634859485b:2","type":"Build","alias":"_DD365Build","definitionReference":{"artifactSourceDefinitionUrl":{"id":"https://dev.azure.com/ReachHigh/_permalink/_build/index?collectionId=03b55a41-9633-4854-b646-9b4b6aa42b21&projectId=1c7cc8a5-a404-463a-b85a-82634859485b&definitionId=2","name":""},"defaultVersionBranch":{"id":"","name":""},"defaultVersionSpecific":{"id":"","name":""},"defaultVersionTags":{"id":"","name":""},"defaultVersionType":{"id":"latestType","name":"Latest"},"definition":{"id":"2","name":"DD365Build"},"definitions":{"id":"","name":""},"IsMultiDefinitionType":{"id":"False","name":"False"},"project":{"id":"1c7cc8a5-a404-463a-b85a-82634859485b","name":"DD365"},"repository":{"id":"","name":""}},"isPrimary":true,"isRetained":false}],"triggers":[{"artifactAlias":"_DD365Build","triggerConditions":[],"triggerType":1}],"releaseNameFormat":"Release-$(rev:r)","tags":[],"properties":{"DefinitionCreationSource":{"$type":"System.String","$value":"ReleaseClone"},"IntegrateBoardsWorkItems":{"$type":"System.String","$value":"False"},"IntegrateJiraWorkItems":{"$type":"System.String","$value":"false"}},"id":4,"name":"DD365ReleaseMSCRM","path":"\\","projectReference":null,"url":"https://vsrm.dev.azure.com/ReachHigh/1c7cc8a5-a404-463a-b85a-82634859485b/_apis/Release/definitions/4","_links":{"self":{"href":"https://vsrm.dev.azure.com/ReachHigh/1c7cc8a5-a404-463a-b85a-82634859485b/_apis/Release/definitions/4"},"web":{"href":"https://dev.azure.com/ReachHigh/1c7cc8a5-a404-463a-b85a-82634859485b/_release?definitionId=4"}}}